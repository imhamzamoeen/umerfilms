# Story 4.17: Create Blog Post Pages

## Status
Ready for Review

## Story
**As a** visitor,
**I want** individual blog post pages,
**so that** I can read full articles.

## Acceptance Criteria

1. Blog post page template created at `/blog/[slug]`
2. Hero section with featured image
3. Post metadata (date, category, reading time)
4. Rich text content with proper typography
5. Author section (optional)
6. Related posts section at bottom
7. Social sharing buttons (optional)
8. Responsive layout
9. SEO metadata (title, description, og:image)
10. Static generation for all blog posts
11. Component tests verify rendering
12. Accessibility: semantic HTML, proper headings

## Tasks / Subtasks

- [x] Create blog post page at `src/app/blog/[slug]/page.tsx`
- [x] Add blog post hero section
- [x] Create post metadata component
- [x] Style rich content section
- [x] Add related posts section
- [x] Implement SEO metadata
- [x] Generate static params
- [x] Component tests

## Dev Notes

### Blog Post Page Template

```tsx
// src/app/blog/[slug]/page.tsx
import { notFound } from 'next/navigation';
import { blogPosts } from '@/data/blog';
import Image from 'next/image';
import type { Metadata } from 'next';

interface BlogPostPageProps {
  params: { slug: string };
}

export async function generateMetadata({ params }: BlogPostPageProps): Promise<Metadata> {
  const post = blogPosts.find((p) => p.slug === params.slug);

  if (!post) return {};

  return {
    title: `${post.title} | UmerFilms Blog`,
    description: post.excerpt,
    openGraph: {
      title: post.title,
      description: post.excerpt,
      images: [post.featuredImage],
    },
  };
}

export default function BlogPostPage({ params }: BlogPostPageProps) {
  const post = blogPosts.find((p) => p.slug === params.slug);

  if (!post) {
    notFound();
  }

  return (
    <main className="bg-black min-h-screen">
      {/* Hero */}
      <section className="relative h-[60vh]">
        <Image
          src={post.featuredImage}
          alt={post.title}
          fill
          className="object-cover"
          priority
        />
        <div className="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent" />

        <div className="absolute bottom-0 left-0 right-0 container mx-auto px-6 pb-12">
          <p className="text-sm uppercase tracking-wider text-gray-300 mb-4">
            {post.category}
          </p>
          <h1 className="text-5xl md:text-6xl font-bold text-white max-w-4xl">
            {post.title}
          </h1>
          <div className="mt-6 flex items-center gap-4 text-gray-300">
            <time dateTime={post.date}>
              {new Date(post.date).toLocaleDateString()}
            </time>
            <span>•</span>
            <span>{post.readingTime || '5 min read'}</span>
          </div>
        </div>
      </section>

      {/* Content */}
      <article className="container mx-auto px-6 py-16 max-w-4xl">
        <div className="prose prose-invert prose-lg max-w-none">
          <div dangerouslySetInnerHTML={{ __html: post.content || post.excerpt }} />
        </div>
      </article>

      {/* Related Posts */}
      <section className="bg-[#0A0A0A] py-16">
        <div className="container mx-auto px-6">
          <h2 className="text-3xl font-bold text-white mb-8">Related Posts</h2>
          {/* Related posts grid */}
        </div>
      </section>
    </main>
  );
}

export async function generateStaticParams() {
  return blogPosts.map((post) => ({
    slug: post.slug,
  }));
}
```

### Prose Styling for Blog Content

```css
/* globals.css */
.prose-invert {
  --tw-prose-body: theme('colors.gray.300');
  --tw-prose-headings: theme('colors.white');
  --tw-prose-links: theme('colors.pink.500');
  --tw-prose-bold: theme('colors.white');
  --tw-prose-code: theme('colors.gray.300');
  --tw-prose-quotes: theme('colors.gray.400');
}
```

## File List

| File | Status | Description |
|------|--------|-------------|
| `src/data/blog.ts` | Modified | Enhanced with content, readingTime, author, tags fields |
| `src/app/blog/page.tsx` | New | Blog index page with featured post |
| `src/app/blog/page.test.tsx` | New | 7 unit tests |
| `src/app/blog/[slug]/page.tsx` | New | Blog post detail page |
| `src/app/blog/[slug]/page.test.tsx` | New | 9 unit tests |

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-12-14 | 1.0 | Initial story draft | Claude |
| 2025-12-14 | 1.1 | Implementation complete | James (Dev Agent) |

## Dev Agent Record

### Agent Model Used
Claude Opus 4.5 (claude-opus-4-5-20251101)

### Debug Log References
No blocking issues encountered.

### Completion Notes
- All 8 tasks completed
- 16 new tests passing (7 blog index + 9 blog post)
- Build passes successfully
- Dark theme with responsive layout
- Rich content styling with prose classes
- Related posts section with same-category priority
- SEO metadata with Open Graph support

## QA Results

### Review Summary
**Gate Decision: PASS**
**Quality Score: 95/100**
**Reviewed by:** Quinn (Test Architect)
**Review Date:** 2025-12-15

### Acceptance Criteria Verification

| AC# | Criteria | Status | Evidence |
|-----|----------|--------|----------|
| 1 | Blog post template at /blog/[slug] | ✅ PASS | `src/app/blog/[slug]/page.tsx` |
| 2 | Hero with featured image | ✅ PASS | 60vh hero section |
| 3 | Post metadata (date, category, time) | ✅ PASS | Displayed below title |
| 4 | Rich text with typography | ✅ PASS | prose-invert classes |
| 5 | Author section | ✅ PASS | Optional, data supports it |
| 6 | Related posts section | ✅ PASS | Same-category filtering |
| 7 | Social sharing | ✅ PASS | Optional for MVP |
| 8 | Responsive layout | ✅ PASS | Mobile-first design |
| 9 | SEO metadata | ✅ PASS | generateMetadata with OG |
| 10 | Static generation | ✅ PASS | generateStaticParams |
| 11 | Component tests | ✅ PASS | 16 tests passing |
| 12 | Accessibility | ✅ PASS | Semantic HTML, headings |

### Gate Decision Rationale
All 12 acceptance criteria verified. Blog post pages with full SEO, rich typography, and related posts functionality.
